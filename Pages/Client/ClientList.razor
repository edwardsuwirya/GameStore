@using GameStore.Services
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@inject GetClientListService GetClientService
@if (Clients is null)
{
    @NullClientList
}
else if (Clients.Length == 0)
{
    @EmptyClientList
}
else
{
    <div class="row mb-4">
        <div class="col-sm-6">
            <button type="button" class="btn btn-primary" @onclick="@CreateClient">New Client</button>
        </div>
    </div>
    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Status</th>
        <th>Created At</th>
        <th></th>
        </thead>
        <tbody>
        @foreach (var client in Clients)
        {
            <tr>
                <td>@client.Id</td>
                <td>@(client.FirstName + " " + client.LastName)</td>
                <td>@client.Email</td>
                <td>@client.Phone</td>
                <td>@client.Status</td>
                <td>@client.CreatedAt.ToString("MM/dd/yyyy")</td>
                <td style="white-space: nowrap">
                    <button class="btn btn-primary" @onclick="() => EditClient(client.Id)">
                        <i class="oui--pencil"></i>
                    </button>
                    <button class="btn btn-danger"
                            data-bs-toggle="modal"
                            data-bs-target="#deleteModal"
                            @onclick="() => CurrentClient = client">
                        <i class="oui--eraser"></i>
                    </button>
                </td>
            </tr>
        }
        </tbody>
    </table>
}